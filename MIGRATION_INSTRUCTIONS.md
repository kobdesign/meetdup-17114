# üöÄ Supabase Migration - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤ "participants does not exist"

## ‚úÖ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß:
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** `checkins` table ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á**‡∏Å‡πà‡∏≠‡∏ô** `participants` table ‡πÅ‡∏ï‡πà `checkins` ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ foreign key ‡πÑ‡∏õ‡∏´‡∏≤ `participants`

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà**‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á** (tenants ‚Üí participants ‚Üí meetings ‚Üí checkins)

---

## üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà (2 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô):

### ‚úÖ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: Clean Database

1. **‡πÄ‡∏õ‡∏¥‡∏î Supabase SQL Editor:**
   ```
   https://supabase.com/dashboard/project/sbknunooplaezvwtyooi/sql/new
   ```

2. **Copy ‡πÑ‡∏ü‡∏•‡πå `CLEAN_DATABASE.sql`** ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

3. **Paste ‡∏•‡∏á SQL Editor ‚Üí ‡∏Å‡∏î Run**

4. **‡∏£‡∏≠ 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ** (‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏¥‡πâ‡∏á)

5. **‡∏î‡∏π Success message:** `DROP SCHEMA` ‡πÅ‡∏•‡∏∞ `CREATE SCHEMA`

---

### ‚≠ê ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: Import Schema (‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà)

1. **‡πÉ‡∏ô Supabase SQL Editor (‡∏´‡∏£‡∏∑‡∏≠ New Query)**

2. **Copy ‡πÑ‡∏ü‡∏•‡πå `STEP2_SCHEMA_ORDERED.sql`** ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (444 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î)

3. **Paste ‡∏•‡∏á SQL Editor ‚Üí ‡∏Å‡∏î Run**

4. **‡∏£‡∏≠ 30-60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ**

5. **‡∏î‡∏π Success message** (‡πÑ‡∏°‡πà‡∏°‡∏µ error)

---

## ‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô:
- ‚úÖ `CREATE TYPE` (8 types)
- ‚úÖ `CREATE TABLE` (18 tables)
- ‚úÖ `CREATE FUNCTION` (1 function)
- ‚úÖ `CREATE TRIGGER` (1 trigger)
- ‚úÖ `CREATE INDEX` (24 indexes)
- ‚úÖ `CREATE POLICY` (20 RLS policies)

---

## üéØ ‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏Ñ‡∏£‡∏ö 2 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:

‡∏û‡∏¥‡∏°‡∏û‡πå **"‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß"** ‡πÅ‡∏•‡πâ‡∏ß Replit Agent ‡∏à‡∏∞:
- ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Supabase
- ‚úÖ Query ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• tables
- ‚úÖ Restart workflow
- ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö LINE Integration

---

**‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö!** üöÄ
